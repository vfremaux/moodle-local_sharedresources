<<<<<<< HEAD
define(["jquery","core/log","core/config"],function(a,b,c){var d={init:function(){a("#id_s_local_sharedresources_licensekey").bind("change",this.check_product_key),a("#id_s_local_sharedresources_licensekey").trigger("change"),b.debug("AMD Pro js initialized for local sharedresources")},check_product_key:function(){var b=a(this),e=b.val().replace(/-/g,""),f=e.substr(0,14),g=e.substr(14,2),h=d.checksum(f),i=' <img src="'+c.wwwroot+'/pix/i/valid.png">',j=' <img src="'+c.wwwroot+'/pix/i/warning.png">',k=' <img src="'+c.wwwroot+'/pix/i/invalid.png">',l=' <img src="'+c.wwwroot+'/pix/i/ajaxloader.gif">';if(g===h){var m=c.wwwroot+"/local/sharedresources/pro/ajax/services.php?";m+="what=license",m+="&service=check",m+="&customerkey="+b.val(),m+="&provider="+a("#id_s_local_sharedresources_licenseprovider").val(),a("#id_s_local_sharedresources_licensekey + img").remove(),a("#id_s_local_sharedresources_licensekey").after(l),a.get(m,function(b){b.match(/SET OK/)?(a("#id_s_local_sharedresources_licensekey + img").remove(),a("#id_s_local_sharedresources_licensekey").after(i)):(a("#id_s_local_sharedresources_licensekey + img").remove(),a("#id_s_local_sharedresources_licensekey").after(k))},"html")}else a("#id_s_local_sharedresources_licensekey + img").remove(),a("#id_s_local_sharedresources_licensekey").after(j)},checksum:function(a){var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",c=b.split(""),d=c.length,e=a.split(""),f=0;for(var g in e){var h=e[g].charCodeAt(0);f+=h}var i=Math.floor(f/d)%d,j=f%d;return""+c[j]+c[i]}};return d});
=======
define("local_sharedresources/pro",["jquery","core/log","core/config"],(function($,log,cfg){var localsharedresourcespro={component:"local_sharedresources",shortcomponent:"local_sharedresources",componentpath:"/local/sharedresources",init:function(){var licensekeyid="#id_s_"+localsharedresourcespro.component+"_licensekey";$(licensekeyid).bind("change",this.check_product_key),$(licensekeyid).trigger("change"),log.debug("AMD Pro js initialized for "+localsharedresourcespro.component+" system")},check_product_key:function(){var licensekeyid="#id_s_"+localsharedresourcespro.component+"_licensekey",that=$(this),productkey=that.val().replace(/-/g,""),payload=productkey.substr(0,14),crc=productkey.substr(14,2),calculated=localsharedresourcespro.checksum(payload),validicon=' <img src="'+cfg.wwwroot+'/pix/i/valid.png">',cautionicon=' <img src="'+cfg.wwwroot+'/pix/i/warning.png">',invalidicon=' <img src="'+cfg.wwwroot+'/pix/i/invalid.png">',waiticon=' <img src="'+cfg.wwwroot+'/pix/i/ajaxloader.gif">';if(crc===calculated){var url=cfg.wwwroot+"/"+localsharedresourcespro.componentpath+"/pro/ajax/services.php?";url+="what=license",url+="&service=check",url+="&customerkey="+that.val(),url+="&provider="+$("#id_s_"+localsharedresourcespro.component+"_licenseprovider").val(),$(licensekeyid+" + img").remove(),$(licensekeyid).after(waiticon),$.get(url,(function(data){data.match(/(CHECK|SET) OK/)?data.match(/-\d+.*$/)?($(licensekeyid+" + img").remove(),$(licensekeyid).after(cautionicon)):($(licensekeyid+" + img").remove(),$(licensekeyid).after(validicon)):($(licensekeyid+" + img").remove(),$(licensekeyid).after(invalidicon))}),"html")}else $(licensekeyid+" + img").remove(),$(licensekeyid).after(cautionicon)},checksum:function(keypayload){var crcrangearr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),crccount=crcrangearr.length,chars=keypayload.split(""),crc=0;for(var ch in chars){crc+=chars[ch].charCodeAt(0)}var crc2=Math.floor(crc/crccount)%crccount;return""+crcrangearr[crc%crccount]+crcrangearr[crc2]}};return localsharedresourcespro}));

//# sourceMappingURL=pro.min.js.map
>>>>>>> MOODLE_401_STABLE
