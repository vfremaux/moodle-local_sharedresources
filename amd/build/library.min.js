define(["jquery","core/config","core/log"],function(a,b,c){var d={init:function(b){var d=a(this);a(".resourceitem").hover(function(){d.css("background-color","#fcfcfc")},function(){d.css("background-color","#f8f8f8")}),a(".sharedresource-toggle-handle").bind("click",this.toggle_info_panel),a(".sharedresource-mark-like").on("click","",b,this.ajax_mark_like),a(".sharedresource-actionlink").bind("click",this.integrate),c.debug("ADM Shared resource Library JS initialized")},ajax_mark_like:function(){var c=a(this).attr("id").replace("sharedresource-",""),e=c.split("-"),f=e[0],g=e[1],h=b.wwwroot+"/local/sharedresources/ajax/add_liked_mark.php?";h+="resid="+g+"&repo="+f,a.get(h,"",function(b){a("#sharedresource-likes-"+g).html(d.sharedresource_print_stars(b,15))},"html")},sharedresource_print_stars:function(a,c){for(var d="",e=0;e<c;e++){var f=e<a?"star":"star_shadow",g=b.wwwroot+"/local/sharedresources/pix/"+f+".png";d+='<img src="'+g+'" />'}return d},toggle_info_panel:function(){var b,c=a(this),d=c.attr("id"),e=d.replace("sharedresource-toggle-","");"none"===a("#sharedresource-info-"+e).css("display")?(a("#sharedresource-info-"+e).css("display","block"),a("#sharedresource-social-"+e).css("display","block"),b=a("#sharedresource-toggle-"+e).attr("src"),b=b.replace("right","top"),a("#sharedresource-toggle-"+e).attr("src",b)):(a("#sharedresource-info-"+e).css("display","none"),a("#sharedresource-social-"+e).css("display","none"),b=a("#sharedresource-toggle-"+e).attr("src"),b=b.replace("top","right"),a("#sharedresource-toggle-"+e).attr("src",b))},integrate:function(){var b=a(this),c=b.attr("id").match(/id-(\w+)-(\d+)/),d=c[1],e=c[2];document.forms["add"+e].mode.value=d,document.forms["add"+e].submit()}};return d});