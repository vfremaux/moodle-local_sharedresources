{"version":3,"file":"search.min.js","sources":["../src/search.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n *\n * @module     local_sharedresource/library\n * @package    local\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n// jshint unused: true, undef:true\ndefine(['jquery', 'core/log'], function ($, log) {\n\n    var sharedresourcessearch = {\n\n        init: function() {\n            $('.selectmultiple-selectall').bind('click', this.selectall);\n            $('.selectmultiple-unselectall').bind('click', this.unselectall);\n            $('#sharedresources-search-reset-btn').bind('click', this.hardreset);\n\n            log.debug('AMD sharedresource search form initialized');\n        },\n\n        toggle: function() {\n\n            var that = $(this);\n\n            var key = '#search-widget-' + that.attr('id');\n            if ($(key).css('display') == 'none') {\n                $(key).css('display', '');\n            } else {\n                $(key).css('display', 'none');\n            }\n        },\n\n        /**\n         * Select all options in a single multiselect widget.\n         */\n        selectall: function() {\n\n            var that = $(this);\n\n            var id = that.attr('id').replace('selectall-', '');\n            $('.selectmultiple-' + id).attr('checked', true);\n        },\n\n        /**\n         * Unselect all options in a single multiselect widget.\n         */\n        unselectall: function() {\n\n            var that = $(this);\n\n            var id = that.attr('id').replace('unselectall-', '');\n            $('.selectmultiple-' + id).attr('checked', true);\n        },\n\n        hardreset: function () {\n\n            var that = $(this);\n\n            that.closest('form').find(':input').not(':button, :submit, :reset, :hidden, :checkbox, :radio').val('');\n            that.closest('form').find(':checkbox, :radio').prop('checked', false);\n            that.closest('form').submit();\n        }\n    };\n\n    return sharedresourcessearch;\n});"],"names":["define","$","log","init","bind","this","selectall","unselectall","hardreset","debug","toggle","key","attr","css","id","replace","that","closest","find","not","val","prop","submit"],"mappings":";;;;;;AAsBAA,OAAM,+BAAC,CAAC,SAAU,aAAa,SAAUC,EAAGC,KAwDxC,MAtD4B,CAExBC,KAAM,WACFF,EAAE,6BAA6BG,KAAK,QAASC,KAAKC,WAClDL,EAAE,+BAA+BG,KAAK,QAASC,KAAKE,aACpDN,EAAE,qCAAqCG,KAAK,QAASC,KAAKG,WAE1DN,IAAIO,MAAM,6CACb,EAEDC,OAAQ,WAEJ,IAEIC,IAAM,kBAFCV,EAAEI,MAEsBO,KAAK,MACX,QAAzBX,EAAEU,KAAKE,IAAI,WACXZ,EAAEU,KAAKE,IAAI,UAAW,IAEtBZ,EAAEU,KAAKE,IAAI,UAAW,OAE7B,EAKDP,UAAW,WAEP,IAEIQ,GAFOb,EAAEI,MAECO,KAAK,MAAMG,QAAQ,aAAc,IAC/Cd,EAAE,mBAAqBa,IAAIF,KAAK,WAAW,EAC9C,EAKDL,YAAa,WAET,IAEIO,GAFOb,EAAEI,MAECO,KAAK,MAAMG,QAAQ,eAAgB,IACjDd,EAAE,mBAAqBa,IAAIF,KAAK,WAAW,EAC9C,EAEDJ,UAAW,WAEP,IAAIQ,KAAOf,EAAEI,MAEbW,KAAKC,QAAQ,QAAQC,KAAK,UAAUC,IAAI,wDAAwDC,IAAI,IACpGJ,KAAKC,QAAQ,QAAQC,KAAK,qBAAqBG,KAAK,WAAW,GAC/DL,KAAKC,QAAQ,QAAQK,QACzB,EAIR"}